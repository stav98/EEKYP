<H3>Γ. Μετεωρολογικός σταθμός</H3>
Σχεδιάσαμε και κατασκευάσαμε έναν μετεωρολογικό σταθμό ο οποίος επικοινωνεί μέσω διαδικτύου με τον κεντρικό σύστημα διαχείρισης ώστε τα δεδομένα να χρησιμοποιούνται από τις προηγούμενες μονάδες. Τα περισσότερα όργανα του μετεωρολογικού σταθμού τα κατασκευάσαμε στον εκτυπωτή 3D του σχολείου.

Ακολουθεί το block διάγραμμα της μονάδας
<p align = "center">
  <img src="../resources/images/C_MeteoStation.png" width="500">
</p>
<H3>Κατασκευή ηλεκτρονικού κυκλώματος</H3>
Έγινε κατασκευή του πρωτοτύπου σε διάτρητη πλακέτα perfboard. Πάνω στην πλακέτα τοποθετήθηκαν όλα τα εξαρτήματα και τα αρθρώματα και κολλήθηκαν από την κάτω πλευρά με λεπτά σύρματα. Ακολουθεί το θεωρητικό κύκλωμα της μονάδας.
<p align = "center">
  <img src="schematics/EEKYP1.png" width="700">
</p>

Αποτελείται από τα παρακάτω όργανα:

## Ανεμόμετρο

Το ανεμόμετρο μετράει την ταχύτητα του ανέμου. Την ιδέα την βρήκαμε στο https://www.yoctopuce.com/EN/article/how-to-measure-wind-part-1 και τα αρχεία για την εκτύπωση 3D υπάρχουν στον κατάλογο 3D.

### Τροποποιήσεις

1. Ρουλεμάν. Τα δύο ρουλεμάν έχουν διαστάσεις 9mm(εξωτερ.), 5mm(εσωτερ.), 3mm(ύψος) και προέρχονται από κεφαλές παλαιών HDD 3,5".
2. Άξονας. Για άξονα χρησιμοποιήσαμε βίδα 5mm(4,9) και την κόψαμε σε μήκος 51mm. Στο κάτω άκρο χαράξαμε εγκοπή ώστε να μπαίνει πλακέ κατσαβίδι.
3. Επειδή υπάρχουν μικρά κενά στην εφαρμογή των ρουλεμάν με την φωλιά, κόβουμε κομμάτι αυτοκόλλητης αλουμινοταινίας 4,5mm x 100mm και τυλίγουμε 2-3 στροφές στην εξωτερική πλευρά των ρουλεμάν.
4. Το ίδιο γίνεται και στον άξονα στα δύο σημεία που εφάπτεται με τα ρουλεμάν. Ταινία αλουμινίου 6,5mm x 56mm και τυλίγουμε 2 στροφές στον άξονα.
5. Μεγαλώνουμε τις οπές στα καπάκια πάνω και κάτω σε διάμετρο 6,6 - 7mm ώστε να περνάει άνετα ο άξονας.
6. Στον εσωτερικό δίσκο με τις 4 σχισμές μεγαλώνουμε την κεντρική οπή σε 4mm και με σπειροτόμο 5mm κάνουμε στροφές. Για σταθεροποίηση, από την πάνω πλευρά βάζουμε ροδέλα στην οποία έχουμε κάνει στροφές και βιδώνει κόντρα.
7. Στον ρότορα με τα κουτάλια μεγαλώνουμε την οπή σε 4mm και κάνουμε στροφές.
8. Ο εσωτερικός δίσκος βιδώνεται στον άξονα. Το ίδιο γίνεται και στον ρότορα κρατώντας με κατσαβίδι πλακέ τον άξονα από κάτω.
9. Για φωτοδίοδο και φωτοτρανζίστορ χρησιμοποιούμε το υπέρυθρο TCRT5000. Βγάζουμε τα δύο στοιχεία από το πλαστικό πλαίσιο και βάζουμε το φωτοτρανζίστορ από την πάνω πλευρά και την φωτοδίοδο από την κάτω.
10. Η φωτοδίοδος συνδέεται στα +5V μέσω αντιστάτη 220Ω και ο συλλέκτης του τρανζίστορ πάει στα +5V. Στην πλακέτα ο εκπομπός γειώνεται μέσω αντιστάτη pulldown 1Κ.

Για την σύνδεση με την πλακέτα θέλουμε 3 καλώδια (5V, GND και τα δεδομένα από τον εκπομπό του φωτοτρανζίστορ που είναι παλμοί μεταβλητής συχνότητας ανάλογα με την ταχύτητα περιστροφής του ρότορα.)

<table align="center">
 <tr>
  <td><img src="images/anemometer_complete.jpg" width="300"></td>
  <td><img src="images/anemometer_botom.jpg" width="300"></td>
   <td><img src="images/anemometer_top.jpg" width="300"></td>
   <td><img src="images/anemometer_parts.jpg" width="300"></td>
  </tr>
</table>

### Βαθμονόμηση

Μια μέρα με άπνοια τοποθετούμε το ανεμόμετρο σταθερά σε ένα αυτοκίνητο. Προσοχή !!! πρέπει να δεθεί πολύ σταθερά ώστε να αποφύγουμε ατυχήματα. Επίσης πρέπει να είναι αρκετά πάνω από την οροφή. Με ένα ειδικό πρόγραμμα μετράμε τις στροφές / λεπτό της περιστροφής του ρότορα. (Για μια στροφή έχουμε 4 διακοπές). Καταγράφουμε τα rpm για ταχύτητες από 10 - 80Km/h με βήμα ανά 10Km/h. Αν υπάρχει μη γραμμική σχέση βάζουμε αυτές τις τιμές σε πίνακα και υπολογίζουμε τις ενδιάμεσες τιμές.  

## Ανεμοδείκτης

Ο ανεμοδείκτης δείχνει την κατεύθυνση του ανέμου. Την ιδέα την βρήκαμε στο https://www.yoctopuce.com/EN/article/how-to-measure-wind-part-2 και τα αρχεία για την εκτύπωση 3D υπάρχουν στον κατάλογο 3D. Ο ανεμοδείκτης μας χρησιμοποιεί την τεχνική του κώδικα Gray και συγκεκριμένα το Single Track Gray Code (STGC). Εδώ έχουμε 5 υπέρυθρα Led στο κάτω μέρος του οργάνου τα οποίο επισκιάζονται ή όχι ανάλογα με την θέση του δίσκου. Οι τρεις οπές του δίσκου έχουν μήκη σύμφωνα με τον κώδικα Gray 5 bit. Από την πάνω πλευρά υπάρχουν 5 υπέρυθρα φωτοτρανζίστορ ακριβώς απέναντι από καθένα Led. Οι δυνατοί συνδιασμοί που παράγονται με 5 bits είναι 32, αλλά σύμφωνα με τον κώδικα μπορούμε να έχουμε 30 συνδιασμούς. Δηλαδή 360 μοίρες / 30 = 12 μοίρες. Επομένως μπορούμε να ανιχνεύσουμε 30 διαφορετικές διευθύνσεις του ανέμου το οποίο είναι υπέρ αρκετό. Για τα υπέρυθρα Led και φωτοτρανζίστορ χρησιμοποιήθηκαν 5 TCRT5000.

<p align = "center">
  <img src="images/STGC_2.gif" width="400">
</p>

### Τροποποιήσεις

Οι τροποποιήσεις είναι ίδιες με αυτές του ανεμόμετρου.

Για την σύνδεση με την πλακέτα θέλουμε 7 καλώδια (5V, GND και τα δεδομένα των 5 bits του κώδικα Gray.)

<table align="center">
 <tr>
  <td><img src="images/wind_vane_complete.png" height="270"></td>
  <td><img src="images/wind_vane_leds.jpg" width="300"></td>
   <td><img src="images/wind_vane_leds2.jpg" width="300"></td>
   <td><img src="images/wind_vane_transistors.jpg" width="300"></td>
  </tr>
</table>

<table align="center">
 <tr>
  <td><img src="images/wind_vane_transistors2.jpg" width="300"></td>
  <td><img src="images/wind_vane_parts.jpg" height="290"></td>
   <td><img src="images/wind_vane_assembly.jpg" height="290"></td>
  </tr>
</table>

## Μετρητής ύψους βροχής

Ο μετρητής ύψους βροχής μετράει την βροχόπτωση σε χιλιοστά. Τα αρχεία για την εκτύπωση 3D υπάρχουν στον κατάλογο 3D. Το νερό συλλέγεται από ένα χωνί διαμέτρου 10cm και οδηγείται σε ένα μηχανισμό τραμπάλας με δύο μικρά δοχεία στα άκρα. Όταν το δοχείο γεμίσει, η τραμπάλα γυρίζει λόγω της βαρύτητας και αδειάζει το νερό, ενώ το άλλο άκρο έχει ανέβει και γεμίζει από το χωνί. Όσο πιο πολύ είναι το νερό τόσο γρηγορότερα πάλλεται η τραμπάλα. Στα δύο άκρα έχουν τοποθετηθεί δύο μικροί μαγνήτες ίδιου βάρους. Εμείς ανιχνεύουμε τις ταλαντώσεις του ενός άκρου με έναν αισθητήρα hall. Το παλμικό σήμα οδηγείται σε ένα pin του arduino με δυνατότητα διακοπής. (External interrupt)  

<p align = "center">
  <img src="images/rainfall_meter_complete.jpg" width="500">
</p>

### Τροποποιήσεις

Για άξονα χρησιμοποιήσαμε μια βίδα διαμέτρου 3mm και για μαγνήτες βάλαμε μικρά κομματάκια από μαγνήτη κίνησης της κεφαλής ενός σκληρού δίσκου. Σπάμε τον μαγνήτη σε μικρά κομμάτια ίδιου μεγέθους. Από τους δύο μαγνήτες μόνο ο ένας χρησιμοποιείται ενώ ο άλλος λειτουργεί ως αντίβαρο. Επίσης πρέπει να προσέξουμε στην τοποθέτηση των πόλων του ενεργού μαγνήτη ώστε το μαγνητικό πεδίο να επιδρά στον αισθητήρα hall. 

Για την σύνδεση με την πλακέτα θέλουμε 3 καλώδια (5V, GND και το παλμικό σήμα)

<table align="center">
 <tr>
  <td><img src="images/rainfall_meter1.jpg" height="200"></td>
  <td><img src="images/rainfall_meter2.jpg" width="400"></td>
  </tr>
</table>

### Βαθμονόμηση

Με μια σύριγγα στάζουμε νερό στην τραμπάλα και βρίσκουμε τα ml που χρειάζονται για να αλλάξει η κατάσταση. Είδαμε ότι με 3,5 ml κάνει ένα πλήρη κύκλο, δηλαδή 1,75ml στο κάθε άκρο. 
